!function(){"use strict";var t,e={909:function(){function t(){$(".b-quiz-progressbar").hide(),$(".b-quiz-header").hide(),$(".b-quiz-nav").hide(),$(".b-quiz-timer").length>0&&($(".b-quiz-timer").hide(),clearInterval(window.countDownTimer))}function e(){$(".b-quiz-progressbar").show(),$(".b-quiz-header").show(),$(".b-quiz-nav").show(),$(".b-quiz-timer").length>0&&$(".b-quiz-timer").show()}function n(){var t=window.quizQuestionsAmount<10?"0"+window.quizQuestionsAmount:window.quizQuestionsAmount,e=window.quizCurrentQuestionNr<10?"0"+window.quizCurrentQuestionNr:window.quizCurrentQuestionNr;"steps"===$(".b-quiz-question-nr").attr("data-style")&&(t=window.quizQuestionsAmount,e=window.quizCurrentQuestionNr),$(".b-quiz-question-nr .b-quiz-question-nr-current-slide").text(e),$(".b-quiz-question-nr .b-quiz-question-nr-total-slide").text(t),$(".quiz-wrapper").attr("data-current-question",window.quizCurrentQuestionNr)}function i(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=$(".b-quiz-question.first-question");i.hasClass("is-always-visible")&&(i=$(".b-quiz-question:not(.is-always-visible):first")),t&&i.addClass("is-active"),setTimeout((function(){var t=i.nextAll(".b-quiz-question:first").attr("data-question-title");"true"===$(".b-quiz-nav").attr("data-question-title-nav")&&t.length>0&&(console.log(t,"nextQuestionTitle"),$(".b-quiz-nav .btn-go-next .e-label").attr("data-label",t).text(t))}),500),t||i.hasClass("is-active")||$(".b-quiz-question").removeClass("is-active").fadeOut().promise().done((function(){window.quizCurrentQuestionNr=1,n(),i.addClass("is-active").fadeIn(),e(),$(".btn-go-next").show()}))}document.addEventListener("saveQuizData",(function(t){if(!quizSaveAnswers)return!1;var e=t.answers,n=window.countDownTimerDuration;$.ajax({url:ajax_object.ajaxurl,type:"post",data:{action:"growtype_quiz_save_data",status:"save",answers:e,quiz_id:quizId,duration:n},beforeSend:function(){},success:function(t){t.success&&(localStorage.setItem("quiz_answers",JSON.stringify(e)),null!==t.redirect_url&&t.redirect_url.length>0&&window.location.replace(t.redirect_url))},error:function(t){false},complete:function(){}})}));var a=0;function s(){var t=$(".b-quiz-progressbar");if(0===t.length)return!1;var e=t.width()/window.quizQuestionsAmount;a=window.quizCurrentQuestionNr*e,$(".b-quiz-progressbar-inner").width(a)}var u=new Event("saveQuizData");function r(){return u}function o(){var i=$(".b-quiz-question.is-active"),a=i.nextAll(".b-quiz-question:first");window.quizQuestionsKeysAlreadyVisited.push(i.attr("data-key")),window.quizQuestionsFunnelsAlreadyVisited.push(i.attr("data-funnel")),window.quizLastQuestion=i,window.quizCurrentQuestionNr++,e(),i.removeClass("is-active").not(".is-always-visible").fadeOut(300,(function(){})).promise().done((function(){var e=$(".b-quiz-nav .btn-go-next .e-label").attr("data-label-finish");if(window.quizCurrentQuestionNr===window.quizQuestionsAmount-1&&e.length>0&&$(this).closest(".b-quiz").find(".b-quiz-nav .btn-go-next .e-label").text(e),window.quizCurrentQuestionNr<window.quizQuestionsAmount-1){var i=$(".b-quiz-nav .btn-go-next .e-label").attr("data-label"),u=a.nextAll(".b-quiz-question:first").attr("data-question-title");"true"===$(".b-quiz-nav").attr("data-question-title-nav")&&u.length>0&&(i=u),$(".b-quiz-nav .btn-go-next .e-label").attr("data-label",i).text(i)}$(".quiz-wrapper").attr("data-current-question-type",a.attr("data-question-type")),a.length>0&&(n(),s(),a.addClass("is-active").fadeIn(300).promise().done((function(){$(".b-quiz-nav .btn").attr("disabled",!1)})),window.scrollTo(0,0)),"true"===a.attr("data-hide-footer")&&t(),0!==a.length&&"success"!==a.attr("data-question-type")||($(".btn-go-next").hide(),document.dispatchEvent(r()),function(){r().answers;var t=r().correctlyAnswered;if(Object.entries(t).length>0&&$('.b-quiz-question[data-question-type="success"] .e-result').length>0){var e=0;Object.values(t).map((function(t,n){t[0]&&e++})),Object.values(t).length>=10&&e.length<10&&(e="0"+e);var n=e+"/"+Object.values(t).length;$('.b-quiz-question[data-question-type="success"] .e-result').text(n)}}())}))}function d(){var t=!0;return $(".b-quiz-question:visible").each((function(e,n){var i=$(n);if("radio"===i.attr("data-question-type")?t=function(t){var e=!0,n=t.find(".b-quiz-question-answer.is-active");if(0===n.length&&(e=!1),e&&"scored"===$(".b-quiz").attr("data-type")&&showCorrectAnswersInitially&&quizInTestMode){n.map((function(t,n){"1"!==$(n).attr("data-cor")&&(e=!1,$(n).addClass("is-wrong"))}));var i=!0;t.find('.b-quiz-question-answer[data-cor="1"]').map((function(t,n){$(n).hasClass("is-active")||(e=!1,i=!1)})),i&&(e=!0,t.find(".b-quiz-question-answer.is-wrong").removeClass("is-active"))}return e||(t.attr("data-hint")&&t.find(".b-quiz-hint").fadeIn(),t.find(".b-quiz-question-answers").addClass("anim-wrong-selection"),setTimeout((function(){t.find(".b-quiz-question-answers").removeClass("anim-wrong-selection")}),500)),e}(i):"open"===i.attr("data-question-type")&&(t=function(t){var e=!0;return 0===t.find("textarea").val().length&&(e=!1),e||(t.find(".b-quiz-question-answers-wrapper").addClass("anim-wrong-selection"),setTimeout((function(){t.find(".b-quiz-question-answers-wrapper").removeClass("anim-wrong-selection")}),500)),e}(i)),!t)return!1})),t}function l(){$(".b-quiz .btn-go-next").click((function(){event.preventDefault();var t=$(".b-quiz-question.is-active");if(!d())return!1;$(".b-quiz-nav .btn").attr("disabled",!0),function(t){var e=r().answers,n=r().correctlyAnswered,i=t.attr("data-key"),a=t.attr("data-question-type");if(e[i]=[],"open"===a?e[i].push(t.find("textarea").val()):t.find(".b-quiz-question-answer.is-active").map((function(t,n){e[i].push($(this).attr("data-value"))})),$('.b-quiz[data-type="scored"]').length>0&&"open"!==a){var s=!0;t.find(".b-quiz-question-answer").map((function(t,e){$(this).hasClass("is-active")&&0===$(this).attr("data-cor").length&&(s=!1)})),n[t.attr("data-key")]=[],n[t.attr("data-key")].push(s)}r().answers=e}(t),o()}))}function c(){$(".b-quiz .btn-go-back").click((function(){return event.preventDefault(),!window.quizBackBtnWasClicked&&(window.quizBackBtnWasClicked=!0,0===window.quizQuestionsKeysAlreadyVisited.length?window.location.replace("/"):(t=$(".b-quiz-question.is-active"),e=t.prevAll(".b-quiz-question[data-key='"+window.quizQuestionsKeysAlreadyVisited.slice(-1)[0]+"'][data-funnel='"+window.quizQuestionsFunnelsAlreadyVisited.slice(-1)[0]+"']:first"),window.quizQuestionsKeysAlreadyVisited.splice(-1),window.quizQuestionsFunnelsAlreadyVisited.splice(-1),window.quizLastQuestion=t,window.quizCurrentQuestionNr--,void t.removeClass("is-active").fadeOut(300,(function(){n(),s(),$(".btn-go-next").show(),$(".quiz-wrapper").attr("data-current-question-type",e.attr("data-question-type"));var i=$(".b-quiz-nav .btn-go-next .e-label").attr("data-label"),a=t.attr("data-question-title");"true"===$(".b-quiz-nav").attr("data-question-title-nav")&&a.length>0&&(i=a),window.quizCurrentQuestionNr<window.quizQuestionsAmount-1&&$(this).closest(".b-quiz").find(".b-quiz-nav .btn-go-next .e-label").text(i),e.addClass("is-active").fadeIn(300).promise().done((function(){window.quizBackBtnWasClicked=!1})),window.scrollTo(0,0)}))));var t,e}))}u.answers={},u.correctlyAnswered={},window.quizBackBtnWasClicked=!1;var q=new Event("showSuccessQuestion");function w(){var t=$(".b-quiz-timer");if(0===t.length)return!1;var e=t.attr("data-duration"),n=new Date;n.setSeconds(n.getSeconds()+Number(e));var i=n.getTime();window.countDownTimer=setInterval((function(){var n=(new Date).getTime(),a=i-n,s=(Math.floor(a/864e5),Math.floor(a%864e5/36e5),Math.floor(a%36e5/6e4)),u=Math.floor(a%6e4/1e3);a<0?(clearInterval(window.countDownTimer),document.dispatchEvent(q),document.dispatchEvent(r())):(window.countDownTimerDuration=Number(e)-Number(60*s+u),s<10&&(s="0"+s),u<10&&(u="0"+u),window.countDownTimerCurrentTime=s+":"+u,t.find(".e-time").text(window.countDownTimerCurrentTime))}),1e3)}document.addEventListener("showSuccessQuestion",(function(){t(),$(".b-quiz-question").hide().promise().done((function(){$('.b-quiz-question[data-question-type="success"]').fadeIn()}))})),$=jQuery,$(document).ready((function(){i(!0),$(".b-quiz-question-answers .b-quiz-question-answer").click((function(){"multiple"!==$(this).closest(".b-quiz-question").attr("data-answer-type")&&$(this).closest(".b-quiz-question-answers").find(".b-quiz-question-answer").removeClass("is-active"),$(this).hasClass("is-active")?"multiple"===$(this).closest(".b-quiz-question").attr("data-answer-type")&&$(this).removeClass("is-active"):$(this).addClass("is-active")})),l(),c(),$(".b-quiz .btn-restart-quiz").click((function(){event.preventDefault(),"true"===$(this).attr("data-show-correct-answers")&&$(".b-quiz").addClass("show-correct-answers"),i()})),s(),n(),w()}))},530:function(){},16:function(){}},n={};function i(t){var a=n[t];if(void 0!==a)return a.exports;var s=n[t]={exports:{}};return e[t](s,s.exports,i),s.exports}i.m=e,t=[],i.O=function(e,n,a,s){if(!n){var u=1/0;for(l=0;l<t.length;l++){n=t[l][0],a=t[l][1],s=t[l][2];for(var r=!0,o=0;o<n.length;o++)(!1&s||u>=s)&&Object.keys(i.O).every((function(t){return i.O[t](n[o])}))?n.splice(o--,1):(r=!1,s<u&&(u=s));if(r){t.splice(l--,1);var d=a();void 0!==d&&(e=d)}}return e}s=s||0;for(var l=t.length;l>0&&t[l-1][2]>s;l--)t[l]=t[l-1];t[l]=[n,a,s]},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={172:0,817:0,412:0};i.O.j=function(e){return 0===t[e]};var e=function(e,n){var a,s,u=n[0],r=n[1],o=n[2],d=0;if(u.some((function(e){return 0!==t[e]}))){for(a in r)i.o(r,a)&&(i.m[a]=r[a]);if(o)var l=o(i)}for(e&&e(n);d<u.length;d++)s=u[d],i.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return i.O(l)},n=self.webpackChunksage=self.webpackChunksage||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}(),i.O(void 0,[817,412],(function(){return i(909)})),i.O(void 0,[817,412],(function(){return i(530)}));var a=i.O(void 0,[817,412],(function(){return i(16)}));a=i.O(a)}();
//# sourceMappingURL=growtype-quiz-public.js.map