!function(){"use strict";var t,e={433:function(){function t(){$(".growtype-quiz-progressbar").hide(),$(".growtype-quiz-header").hide(),$(".growtype-quiz-nav").hide(),$(".growtype-quiz-timer").length>0&&($(".growtype-quiz-timer").hide(),clearInterval(window.countdown_timer))}function e(){$(".growtype-quiz-progressbar").show(),$(".growtype-quiz-header").show(),$(".growtype-quiz-nav").show(),$(".growtype-quiz-timer").length>0&&$(".growtype-quiz-timer").show()}function n(){var t=window.quizQuestionsAmount<10?"0"+window.quizQuestionsAmount:window.quizQuestionsAmount,e=window.growtype_quiz.current_question_nr<10?"0"+window.growtype_quiz.current_question_nr:window.growtype_quiz.current_question_nr;"steps"!==$(".growtype-quiz-question-nr").attr("data-style")&&"outof"!==$(".growtype-quiz-question-nr").attr("data-style")||(t=window.quizQuestionsAmount,e=window.growtype_quiz.current_question_nr),$(".growtype-quiz-question-nr .growtype-quiz-question-nr-current-slide").text(e),$(".growtype-quiz-question-nr .growtype-quiz-question-nr-total-slide").text(t),$(".growtype-quiz-wrapper").attr("data-current-question",window.growtype_quiz.current_question_nr)}function i(e){"true"===e.attr("data-hide-footer")&&t(),"true"===e.attr("data-hide-back-button")?$(".growtype-quiz-nav .growtype-quiz-btn-go-back").hide():$(".growtype-quiz-nav .growtype-quiz-btn-go-back").show(),"true"===e.attr("data-hide-next-button")?$(".growtype-quiz-nav .growtype-quiz-btn-go-next").hide():$(".growtype-quiz-nav .growtype-quiz-btn-go-next").show(),$(".growtype-quiz-wrapper").attr("data-current-question-type",e.attr("data-question-type"))}function r(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=$(".growtype-quiz-question.first-question");r.hasClass("is-always-visible")&&(r=$(".growtype-quiz-question:not(.is-always-visible):first")),t&&r.addClass("is-active"),i(r),setTimeout((function(){var t=$(".growtype-quiz-nav .growtype-quiz-btn-go-next .e-label").attr("data-label-start");void 0!==t&&t.length>0&&("true"===$(".growtype-quiz-nav").attr("data-question-title-nav")?(t=r.nextAll(".growtype-quiz-question:first").attr("data-question-title"),$(".growtype-quiz-nav .growtype-quiz-btn-go-next .e-label").attr("data-label",t).text(t)):$(".growtype-quiz-nav .growtype-quiz-btn-go-next .e-label").text(t))}),500),t||r.hasClass("is-active")||$(".growtype-quiz-question").removeClass("is-active").fadeOut().promise().done((function(){window.growtype_quiz.current_question_nr=1,n(),r.addClass("is-active").fadeIn(),e(),$(".growtype-quiz-btn-go-next").show()}))}function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){s=!0,o=t},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function u(){window.quizQuestionsAmount=$('.growtype-quiz-question[data-funnel="a"]:not(.growtype-quiz-question[data-question-type="success"]):not(.is-always-visible)').length,window.growtype_quiz.already_visited_questions_funnels.map((function(t){if("a"!==t){var e=$('.growtype-quiz-question[data-funnel="'+t+'"]:not(.growtype-quiz-question[data-question-type="success"]):not(.is-always-visible)').length;window.quizQuestionsAmount=window.quizQuestionsAmount+e}})),$(".growtype-quiz-question:visible").hasClass("is-visible")&&window.quizQuestionsAmount--,$('.growtype-quiz-question[data-question-type="success"][data-hide-footer="false"]')&&window.quizQuestionsAmount++}document.addEventListener("saveQuizData",(function(t){var e,n;if(!quizSaveAnswers)return!1;var i=t.answers,r=null!==(e=window.growtype_quiz.duration)&&void 0!==e?e:null,a=$(".growtype-quiz-wrapper").attr("data-quiz-id"),u=null!==(n=window.growtype_quiz.files)&&void 0!==n?n:null,s=new FormData;if(s.append("action","growtype_quiz_save_data"),s.append("status","save"),s.append("answers",JSON.stringify(i)),s.append("quiz_id",a),s.append("duration",r),u){var w,l=o(u.entries());try{for(l.s();!(w=l.n()).done;){var d=w.value;s.append(d[0],d[1])}}catch(t){l.e(t)}finally{l.f()}}$.ajax({url:ajax_object.ajaxurl,type:"post",processData:!1,contentType:!1,cache:!1,enctype:"multipart/form-data",data:s,beforeSend:function(){},success:function(t){t.success&&(localStorage.setItem("quiz_answers",JSON.stringify(i)),null!==t.redirect_url&&t.redirect_url.length>0&&window.location.replace(t.redirect_url))},error:function(t){void 0!==t.responseJSON.message&&alert(t.responseJSON.message),$(".growtype-quiz-wrapper .btn").attr("disabled",!1).fadeIn()},complete:function(){}})}));var s=0;function w(){var t=$(".growtype-quiz-progressbar");if(0===t.length)return!1;var e=t.width()/window.quizQuestionsAmount;s=window.growtype_quiz.current_question_nr*e,$(".growtype-quiz-progressbar-inner").width(s)}var l=new Event("saveQuizData");function d(){return l}function p(t){var r=t.find(".growtype-quiz-question-answer.is-active").attr("data-funnel");window.growtype_quiz.current_funnel=r,void 0===r&&(r="a");var o=t.nextAll('.growtype-quiz-question[data-funnel="'+r+'"]:first');window.growtype_quiz.already_visited_questions_keys.push(t.attr("data-key")),window.growtype_quiz.already_visited_questions_funnels.push(t.attr("data-funnel")),window.quizLastQuestion=t,window.growtype_quiz.current_question_nr++,e(),t.removeClass("is-active").not(".is-always-visible").fadeOut(300,(function(){})).promise().done((function(){var t=$(".growtype-quiz-nav .growtype-quiz-btn-go-next .e-label").attr("data-label-finish");if(window.growtype_quiz.current_question_nr===window.quizQuestionsAmount-1&&t.length>0&&$(this).closest(".growtype-quiz").find(".growtype-quiz-nav .growtype-quiz-btn-go-next .e-label").text(t),window.growtype_quiz.current_question_nr<window.quizQuestionsAmount-1){var e=$(".growtype-quiz-nav .growtype-quiz-btn-go-next .e-label").attr("data-label"),a=o.nextAll(".growtype-quiz-question:first").attr("data-question-title");o.nextAll('.growtype-quiz-question[data-funnel="'+r+'"]:first').length>0&&(a=o.nextAll('.growtype-quiz-question[data-funnel="'+r+'"]:first').attr("data-question-title")),"true"===$(".growtype-quiz-nav").attr("data-question-title-nav")&&a.length>0&&(e=a),$(".growtype-quiz-nav .growtype-quiz-btn-go-next .e-label").attr("data-label",e).text(e)}o.length>0&&(u(),n(),w(),o.addClass("is-active").fadeIn(300).promise().done((function(){$(".growtype-quiz-nav .btn").attr("disabled",!1)})),window.scrollTo(0,0)),i(o),0!==o.length&&"success"!==o.attr("data-question-type")||($(".growtype-quiz-btn-go-back").attr("disabled",!1),$(".growtype-quiz-btn-go-next").hide(),document.dispatchEvent(d()),function(){d().answers;var t=d().correctlyAnswered;if(Object.entries(t).length>0&&$('.growtype-quiz-question[data-question-type="success"] .e-result').length>0){var e=0;Object.values(t).map((function(t,n){t[0]&&e++})),Object.values(t).length>=10&&e.length<10&&(e="0"+e);var n=e+"/"+Object.values(t).length;$('.growtype-quiz-question[data-question-type="success"] .e-result').text(n)}}())}))}function c(){var t=!0;return $(".growtype-quiz-question:visible").each((function(e,n){var i=$(n);if(t=function(t){var e=!0;return t.find('input[type="file"][required]').each((function(t,n){0===$(n).val().length&&($(n).closest(".growtype-quiz-file-input-wrapper").addClass("anim-wrong-selection"),setTimeout((function(){$(n).closest(".growtype-quiz-file-input-wrapper").removeClass("anim-wrong-selection")}),500),e=!1)})),e}(i),t&&("radio"===i.attr("data-question-type")?t=function(t){var e=!0,n=t.find(".growtype-quiz-question-answer.is-active");if(0===n.length&&(e=!1),e&&"scored"===$(".growtype-quiz-wrapper").attr("data-quiz-type")&&showCorrectAnswersInitially&&quizInTestMode){n.map((function(t,n){"1"!==$(n).attr("data-cor")&&(e=!1,$(n).addClass("is-wrong"))}));var i=!0;t.find('.growtype-quiz-question-answer[data-cor="1"]').map((function(t,n){$(n).hasClass("is-active")||(e=!1,i=!1)})),i&&(e=!0,t.find(".growtype-quiz-question-answer.is-wrong").removeClass("is-active"))}return e||(t.attr("data-hint")&&t.find(".growtype-quiz-hint").fadeIn(),t.find(".growtype-quiz-question-answers").addClass("anim-wrong-selection"),setTimeout((function(){t.find(".growtype-quiz-question-answers").removeClass("anim-wrong-selection")}),500)),e}(i):"open"===i.attr("data-question-type")?t=function(t){var e=!0;return 0===t.find("textarea").val().length&&(e=!1),e||(t.find(".growtype-quiz-question-answers-wrapper").addClass("anim-wrong-selection"),setTimeout((function(){t.find(".growtype-quiz-question-answers-wrapper").removeClass("anim-wrong-selection")}),500)),e}(i):"general"===i.attr("data-question-type")&&(t=function(t){var e=!0,n=t.find(".growtype-quiz-question-answer"),i=t.find(".growtype-quiz-question-answer.is-active");return n.length>0&&0===i.length&&(e=!1),e||(t.find(".growtype-quiz-question-answers").addClass("anim-wrong-selection"),setTimeout((function(){t.find(".growtype-quiz-question-answers").removeClass("anim-wrong-selection")}),500)),e}(i))),!t)return!1})),t}function q(t){var e=d().answers,n=d().correctlyAnswered,i=t.attr("data-key"),r=t.attr("data-question-type");if(e[i]=[],"open"===r?e[i].push(t.find("textarea").val()):t.find(".growtype-quiz-question-answer.is-active").map((function(t,n){e[i].push($(this).attr("data-value"))})),$('.growtype-quiz-wrapper[data-quiz-type="scored"]').length>0&&"open"!==r){var o=!0;t.find(".growtype-quiz-question-answer").map((function(t,e){$(this).hasClass("is-active")&&0===$(this).attr("data-cor").length&&(o=!1)})),n[i]=[],n[i].push(o)}if(t.find('input[type="file"][required]').length>0){var a=new FormData;t.find('input[type="file"][required]').each((function(t,e){a.append($(e).attr("name")+"-"+i+"-"+t,$(e)[0].files[0])})),window.growtype_quiz.files=a}d().answers=e}function g(t,e){u(),n(),w(),$(".growtype-quiz-btn-go-next").show().attr("disabled",!1);var r=$(".growtype-quiz-nav .growtype-quiz-btn-go-next .e-label").attr("data-label");e.hasClass("first-question")&&(r=$(".growtype-quiz-nav .growtype-quiz-btn-go-next .e-label").attr("data-label-start"));var o=t.attr("data-question-title");"true"===$(".growtype-quiz-nav").attr("data-question-title-nav")&&o.length>0&&(r=o),i(e),window.growtype_quiz.current_question_nr<window.quizQuestionsAmount-1&&$(this).closest(".growtype-quiz").find(".growtype-quiz-nav .growtype-quiz-btn-go-next .e-label").text(r),e.addClass("is-active").fadeIn(300).promise().done((function(){window.quizBackBtnWasClicked=!1})),window.scrollTo(0,0)}function y(){$(".growtype-quiz .growtype-quiz-btn-go-back").click((function(){return event.preventDefault(),!window.quizBackBtnWasClicked&&(window.quizBackBtnWasClicked=!0,0===window.growtype_quiz.already_visited_questions_keys.length?window.location.href="/":(t=$(".growtype-quiz-question.is-active"),e=window.growtype_quiz.already_visited_questions_keys.slice(-1)[0],n=window.growtype_quiz.already_visited_questions_funnels.slice(-1)[0],i=t.prevAll(".growtype-quiz-question[data-key='"+e+"'][data-funnel='"+n+"']:first"),0===t.length&&(i=$(".growtype-quiz-question:last")),window.growtype_quiz.already_visited_questions_keys.splice(-1),window.growtype_quiz.already_visited_questions_funnels.splice(-1),delete d().answers[e],window.quizLastQuestion=t,window.growtype_quiz.current_question_nr--,void(0===t.length?g(t,i):t.removeClass("is-active").fadeOut(300,(function(){g(t,i)})))));var t,e,n,i}))}l.answers={},l.correctlyAnswered={},window.quizBackBtnWasClicked=!1;var f=new Event("showSuccessQuestion");function z(){var t=$(".growtype-quiz-timer");if(0===t.length)return!1;window.growtype_quiz.countdown={};var e=t.attr("data-duration"),n=new Date;n.setSeconds(n.getSeconds()+Number(e));var i=n.getTime();window.countdown_timer=setInterval((function(){var n=(new Date).getTime(),r=i-n,o=(Math.floor(r/864e5),Math.floor(r%864e5/36e5),Math.floor(r%36e5/6e4)),a=Math.floor(r%6e4/1e3);r<0?(clearInterval(window.countdown_timer),document.dispatchEvent(f),document.dispatchEvent(d())):(window.growtype_quiz.countdown.duration=Number(e)-Number(60*o+a),o<10&&(o="0"+o),a<10&&(a="0"+a),window.growtype_quiz.countdown.current_time=o+":"+a,t.find(".e-time").text(window.growtype_quiz.countdown.current_time))}),1e3)}var v=new Date;document.addEventListener("showSuccessQuestion",(function(){t(),$(".growtype-quiz-question").hide().promise().done((function(){$('.growtype-quiz-question[data-question-type="success"]').fadeIn()}))})),$=jQuery,$(document).ready((function(){$(".growtype-quiz input[type=file]").change((function(t){var e=$(this).attr("max-size"),n=$(this).attr("max-size-error-message");void 0!==e&&$(t.target.files).each((function(i,r){r.size>e&&(n.length>0?(n=n.replace(":image_name",r.name).replace(":max_size",e/1e6+"mb"),alert(n)):alert(r.name+" is too big! Max file size allowed - "+e/1e6+"mb"),t.target.value="")}));var i=$(this).attr("data-selected-placeholder-single"),r=$(this).attr("data-selected-placeholder-multiple"),o=t.target.files.length;if($(this).closest(".growtype-quiz-file-input-wrapper").find(".growtype-quiz-input-label").removeClass("is-active").text($(this).attr("data-placeholder")),o>0&&(i.length>0||r.length>0)){var a=i.replace(":nr",o);o>1&&(a=r.replace(":nr",o)),$(this).closest(".growtype-quiz-file-input-wrapper").find(".growtype-quiz-input-label").addClass("is-active").text(a)}})),r(!0),$(".growtype-quiz-question-answers .growtype-quiz-question-answer").click((function(){$(this).attr("data-url").length>0&&(window.location=$(this).attr("data-url")),"multiple"!==$(this).closest(".growtype-quiz-question").attr("data-answer-type")&&$(this).closest(".growtype-quiz-question-answers").find(".growtype-quiz-question-answer").removeClass("is-active"),$(this).hasClass("is-active")?"multiple"===$(this).closest(".growtype-quiz-question").attr("data-answer-type")&&$(this).removeClass("is-active"):$(this).addClass("is-active")})),$('.growtype-quiz-question-answers .growtype-quiz-question-answer[data-option-featured-img-main="true"]').click((function(){var t=$(this).attr("data-img-url"),e=$(this).closest(".growtype-quiz-question").find(".b-img .e-img"),n=e.css("background-image").replace(/^url\(['"](.+)['"]\)/,"$1");t.length>0&&n!==t&&e.fadeOut(100).promise().done((function(){e.css({"background-image":"url( "+t+" )"}),e.fadeIn(100)}))})),$(".growtype-quiz .growtype-quiz-btn-go-next").click((function(){event.preventDefault();var t=$(".growtype-quiz-question.is-active");if("false"!==t.attr("data-answer-required")&&!c())return!1;$(".growtype-quiz-nav .btn").attr("disabled",!0),$(".growtype-quiz-question.is-visible").length>0&&$(".growtype-quiz-question.is-visible").each((function(t,e){q($(e))})),q(t),p(t)})),y(),$(".growtype-quiz .btn-restart-quiz").click((function(){event.preventDefault(),"true"===$(this).attr("data-show-correct-answers")&&$(".growtype-quiz").addClass("show-correct-answers"),r()})),u(),w(),n(),function(){if("presentation"===$(".growtype-quiz-wrapper").attr("data-quiz-type"))return!1;setInterval((function(){var t=new Date-v;window.growtype_quiz.duration=(t/1e3).toFixed(0)}),1e3)}(),z()}))},530:function(){},216:function(){}},n={};function i(t){var r=n[t];if(void 0!==r)return r.exports;var o=n[t]={exports:{}};return e[t](o,o.exports,i),o.exports}i.m=e,t=[],i.O=function(e,n,r,o){if(!n){var a=1/0;for(l=0;l<t.length;l++){n=t[l][0],r=t[l][1],o=t[l][2];for(var u=!0,s=0;s<n.length;s++)(!1&o||a>=o)&&Object.keys(i.O).every((function(t){return i.O[t](n[s])}))?n.splice(s--,1):(u=!1,o<a&&(a=o));if(u){t.splice(l--,1);var w=r();void 0!==w&&(e=w)}}return e}o=o||0;for(var l=t.length;l>0&&t[l-1][2]>o;l--)t[l]=t[l-1];t[l]=[n,r,o]},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={172:0,697:0,412:0};i.O.j=function(e){return 0===t[e]};var e=function(e,n){var r,o,a=n[0],u=n[1],s=n[2],w=0;if(a.some((function(e){return 0!==t[e]}))){for(r in u)i.o(u,r)&&(i.m[r]=u[r]);if(s)var l=s(i)}for(e&&e(n);w<a.length;w++)o=a[w],i.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return i.O(l)},n=self.webpackChunksage=self.webpackChunksage||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}(),i.O(void 0,[697,412],(function(){return i(433)})),i.O(void 0,[697,412],(function(){return i(530)}));var r=i.O(void 0,[697,412],(function(){return i(216)}));r=i.O(r)}();
//# sourceMappingURL=growtype-quiz-public.js.map