!function(){"use strict";var t,e={709:function(){function t(t){return window.growtype_quiz_data[t]}function e(t){return new CustomEvent("growtypeQuizSaveQuizData",{detail:t})}function i(t){var e=t.attr("id");t.find(".growtype-quiz-progressbar").hide(),t.find(".growtype-quiz-header").hide(),t.find(".growtype-quiz-nav").hide(),t.find(".growtype-quiz-timer").length>0&&(t.find(".growtype-quiz-timer").hide(),clearInterval(window.growtype_quiz_global[e].countdown_timer))}function n(t){t.find(".growtype-quiz-header").show(),t.find(".growtype-quiz-nav").show(),t.find(".growtype-quiz-timer").length>0&&t.find(".growtype-quiz-timer").show()}function a(t,e){var i=t.attr("id"),n=e.split(":")[0],a=e.split(":")[1].split("|");if(void 0===window.growtype_quiz_data[i].answers[n])return!1;var r=!1;return a.map((function(t){var e=window.growtype_quiz_data[i].answers[n];(Array.isArray(e)||"string"==typeof e)&&e.includes(t)&&(r=!0)})),!!r}function r(t){var e=t.closest(".growtype-quiz-wrapper");"true"===t.attr("data-hide-footer")&&i(e),t.length>0&&(1===parseInt($(t).attr("data-question-nr"))?$(".growtype-quiz-wrapper .hide-initially").each((function(t,e){$(e).hide()})):$(".growtype-quiz-wrapper .hide-initially").each((function(t,e){$(e).css("display","flex"),$(e).removeClass("d-none")}))),"true"===t.attr("data-hide-back-button")&&e.find(".growtype-quiz-nav .growtype-quiz-btn-go-back:not(.show-initially)").filter((function(){return!$(this).closest(".growtype-quiz-header").length})).hide(),t.length>0&&("true"===t.attr("data-hide-next-button")?e.find(".growtype-quiz-nav .growtype-quiz-btn-go-next").hide():e.find(".growtype-quiz-nav .growtype-quiz-btn-go-next").show()),"true"===t.attr("data-hide-progressbar")?e.find(".growtype-quiz-progressbar").fadeOut(200):e.find(".growtype-quiz-progressbar").fadeIn(),$("body").attr("data-current-question-type",t.attr("data-question-type")).attr("data-current-question-style",t.attr("data-question-style")).attr("data-current-answer-type",t.attr("data-answer-type")),"single_instant"===$(t).attr("data-answer-type")&&(e.find('.growtype-quiz-nav[data-type="footer"] .growtype-quiz-btn-go-back:not(.show-initially)').hide(),e.find('.growtype-quiz-nav[data-type="footer"] .growtype-quiz-btn-go-next').hide())}function o(t){return new CustomEvent("growtypeQuizShowQuestion",{detail:t})}function s(t){var e=t.attr("id"),i=window.growtype_quiz_global[e].quiz_questions_amount<10?"0"+window.growtype_quiz_global[e].quiz_questions_amount:window.growtype_quiz_global[e].quiz_questions_amount,n=window.growtype_quiz_global[e].current_question_counter_nr<10?"0"+window.growtype_quiz_global[e].current_question_counter_nr:window.growtype_quiz_global[e].current_question_counter_nr;"steps"!==t.find(".growtype-quiz-question-nr").attr("data-counter-style")&&"outof"!==t.find(".growtype-quiz-question-nr").attr("data-counter-style")||(i=window.growtype_quiz_global[e].quiz_questions_amount,n=window.growtype_quiz_global[e].current_question_counter_nr),"answered_only"===t.find(".growtype-quiz-question-nr").attr("data-counter-style")&&(i=window.growtype_quiz_global[e].quiz_questions_amount,n=window.growtype_quiz_global[e].current_question_counter_nr-1),t.find(".growtype-quiz-question-nr .growtype-quiz-question-nr-current-slide").text(n),t.find(".growtype-quiz-question-nr .growtype-quiz-question-nr-total-slide").text(i),$("body").attr("data-current-question",window.growtype_quiz_global[e].current_question_nr)}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=t.attr("id");if(t.find(".growtype-quiz").attr("data-show-question-nr-in-url")){var n=!0;if(e&&"final"===e.attr("data-key")&&(n=!1),n){var r=new URLSearchParams(window.location.search);r.set("question",window.growtype_quiz_global[i].current_question_nr);var o=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+r.toString();window.history.pushState({path:o},"",o)}}window.growtype_quiz_global[i].quiz_questions_amount=t.find('.growtype-quiz-question[data-funnel="a"]:not(.growtype-quiz-question[data-question-type="success"]):not(.is-always-visible):not(.exclude-questions-amount)').length,window.growtype_quiz_global[i].quiz_counted_questions_amount=t.find('.growtype-quiz-question[data-funnel="a"]:not(.growtype-quiz-question[data-question-type="success"]):not(.exclude-questions-amount):not([class*="skipped"]):not(.is-always-visible)').length+window.growtype_quiz_global[i].additional_questions_amount,window.growtype_quiz_global[i].already_visited_questions_funnels&&window.growtype_quiz_global[i].already_visited_questions_funnels.map((function(e){if(e!==window.growtype_quiz_global[i].initial_funnel){var n=t.find('.growtype-quiz-question[data-funnel="'+e+'"]:not(.growtype-quiz-question[data-question-type="success"]):not(.is-always-visible)').length;window.growtype_quiz_global[i].quiz_questions_amount=window.growtype_quiz_global[i].quiz_questions_amount+n}})),window.growtype_quiz_data[i]&&Object.entries(window.growtype_quiz_data[i].answers).length>0&&t.find(".growtype-quiz-question").each((function(e,n){$(n).attr("data-disabled-if").length>0&&a(t,$(n).attr("data-disabled-if"))&&(window.growtype_quiz_global[i].quiz_questions_amount--,window.growtype_quiz_global[i].quiz_counted_questions_amount--)})),t.find(".growtype-quiz-question.is-active:visible").hasClass("is-visible")&&!t.find(".growtype-quiz-question.is-active:visible").prev().hasClass("is-always-visible")&&window.growtype_quiz_global[i].quiz_questions_amount--}function l(t){return!$(t).hasClass("exclude-questions-amount")}var d=0,w=0;function p(t){var e=t.attr("id"),i=t.find(".growtype-quiz-progressbar"),n=window.growtype_quiz_global[e].quiz_counted_questions_amount,a=window.growtype_quiz_global[e].current_question_counter_nr,r=t.find(".growtype-quiz-question.chapter-start").length;"general"!==t.find(".growtype-quiz-question.first-question").attr("data-question-type")&&(a-=1),0!==i.length&&0!==a||t.find(".growtype-quiz-progressbar-inner").width(0);var o=i.width();if(0!==o){if(r>0){r+=1,t.find(".growtype-quiz-progressbar .growtype-quiz-progressbar-chapter").remove();var s=0,u=[];t.find(".growtype-quiz .growtype-quiz-question").each((function(t,i){l(i)&&($(i).attr("data-funnel")===window.growtype_quiz_global[e].initial_funnel||$(i).hasClass("is-conditionally-cloned"))&&s++,$(i).hasClass("chapter-start")&&(0===u.length?u.push({chapter_start:0,chapter_end:s,steps_difference:s}):u.push({chapter_start:u[u.length-1].chapter_end,chapter_end:s,steps_difference:s-u[u.length-1].chapter_end}))})),u.push({chapter_start:u[u.length-1].chapter_end,chapter_end:n,steps_difference:n-u[u.length-1].chapter_end});for(var p=o/r,c=1;c<r;c++)t.find(".growtype-quiz-progressbar").append('<span class="growtype-quiz-progressbar-chapter" style="left:'+p*c+'px;"></span>');var g=0;u.map((function(t,e){if(t.chapter_start<a){t.chapter_end-a==0||t.chapter_end;(w=p/t.steps_difference*(a-t.chapter_start))>p&&(w=p),g+=w}})),d=g}else d=a*(w=o/n);t.find(".growtype-quiz-progressbar-inner").width(d);try{window.sessionStorage&&sessionStorage.setItem(quizGlobalStorageKey,JSON.stringify(window.growtype_quiz_global))}catch(t){console.warn("Could not save growtype_quiz_global to sessionStorage")}}}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new CustomEvent("growtypeQuizShowSuccessQuestion",{detail:t})}function g(t){t.find("input:visible[required],textarea:visible[required]").removeClass("is-invalid");var e=!0;return t.find("input:visible[required],textarea:visible[required]").each((function(t,i){var n;(void 0!==$(i).attr("min")&&parseInt($(i).val())<parseInt($(i).attr("min"))||void 0!==$(i).attr("max")&&parseInt($(i).val())>parseInt($(i).attr("max"))||0===$(i).val().length||"email"===$(i).attr("type")&&(n=$(i).val(),!String(n).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)))&&($(i).addClass("is-invalid"),e=!1)})),e}function f(t){var e=t.closest(".growtype-quiz-wrapper"),i=e.attr("id"),n=!0;e.find(".growtype-quiz-question:visible").each((function(t,i){var a=$(i);(n=g(a))&&("radio"===a.attr("data-question-type")?n=function(t){var e=!0,i=t.find(".growtype-quiz-question-answer.is-active");if(0===i.length&&(e=!1),e&&"scored"===$(".growtype-quiz-wrapper").attr("data-quiz-type")&&$(".growtype-quiz-wrapper").attr("data-show-correct-answer")&&"on_submit"===$(".growtype-quiz-wrapper").attr("data-correct-answers-trigger")){i.map((function(t,i){"1"!==$(i).attr("data-cor")&&(e=!1,$(i).addClass("is-wrong"))}));var n=!0;t.find('.growtype-quiz-question-answer[data-cor="1"]').map((function(t,i){$(i).hasClass("is-active")||(e=!1,n=!1)})),n&&(e=!0,t.find(".growtype-quiz-question-answer").removeClass("is-wrong"),t.find('.growtype-quiz-question-answer[data-cor="1"]').addClass("is-correct"),t.find(".growtype-quiz-question-answer.is-wrong").removeClass("is-active"))}return e||t.attr("data-hint")&&t.find(".growtype-quiz-hint").fadeIn(),e}(a):"open"===a.attr("data-question-type")?n=function(t){var e=!0;return 0===t.find("textarea").val().length&&(e=!1),e}(a):"general"===a.attr("data-question-type")&&(n=function(t){var e=!0,i=t.find(".growtype-quiz-question-answer"),n=t.find(".growtype-quiz-question-answer.is-active");return i.length>0&&0===n.length&&(e=!1),e}(a)));var r=$(i).find('input[type="checkbox"]');if(r.length>0&&r.each((function(t,e){$(e).is(":checked")||(n=!1)})),e.removeClass("is-valid is-half-valid"),void 0!==$(i).find('input:not([type="checkbox"])').val()&&$(i).find('input:not([type="checkbox"])').val().length>0?e.addClass(n?"is-valid":"is-half-valid"):e.addClass(n?"is-valid":""),!n)return $(i).find(".growtype-quiz-question-answers").addClass("anim-wrong-selection"),setTimeout((function(){$(i).find(".growtype-quiz-question-answers").removeClass("anim-wrong-selection")}),500),!1})),window.growtype_quiz_global[i].is_valid=n}document.addEventListener("growtypeQuizValidateQuestion",(function(t){f($(t.detail.currentQuestion))}));var q=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"local";try{var i="local"===e?window.localStorage:window.sessionStorage;return i?i.getItem(t):null}catch(t){return console.warn("".concat(e,"Storage is not available")),null}},y=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"local";try{var n="local"===i?window.localStorage:window.sessionStorage;if(!n)return;n.setItem(t,e)}catch(t){console.warn("Could not save to ".concat(i,"Storage"))}};function _(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||z(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==i)return;var n,a,r=[],o=!0,s=!1;try{for(i=i.call(t);!(o=(n=i.next()).done)&&(r.push(n.value),!e||r.length!==e);o=!0);}catch(t){s=!0,a=t}finally{try{o||null==i.return||i.return()}finally{if(s)throw a}}return r}(t,e)||z(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(t,e){if(t){if("string"==typeof t)return h(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var m=new URLSearchParams(window.location.search).get("answers"),b={};m&&m.split("|").forEach((function(t){var e=v(t.split(":"),2),i=e[0],n=e[1];i&&n&&(b[i]=n.split(","))}));function x(e){var i=e.closest(".growtype-quiz-wrapper"),n=i.attr("id"),a=t(n).answers;if(Object.keys(b).length>0)for(var r in b)a.hasOwnProperty(r)?a[r]=_(new Set([].concat(_(a[r]),_(b[r])))):a[r]=b[r];var o=t(n).correctly_answered,s=e.attr("data-key"),u=e.attr("data-question-type");if("info"!==u){if(a[s]=[],"open"===u?a[s].push(e.find("textarea").val()):e.find(".growtype-quiz-question-answer.is-active").map((function(t,e){a[s].push($(this).attr("data-value"))})),"scored"===i.attr("data-quiz-type")&&"open"!==u){var l=!0;e.find(".growtype-quiz-question-answer").map((function(t,e){$(this).hasClass("is-active")&&0===$(this).attr("data-cor").length&&(l=!1)})),o[s]||(o[s]=[]),o[s].push(l)}if(e.find("input:visible,textarea:visible").length>0){var d=window.growtype_quiz_global[n].files;e.find("input:visible,textarea:visible").each((function(t,e){if("file"===$(e).attr("type")){for(var i=s+"#_#"+t+"#_#"+$(e).attr("name"),r=$(e)[0].files,o=0;o<r.length;o++)d.append(i,r[o]);window.growtype_quiz_global[n].files=d}else a[s].push({name:$(e).attr("name"),value:$(e).val()})}))}e.find(".unitsystem-selector-item.is-active:visible").length>0&&(a.unit_system=e.find(".unitsystem-selector-item.is-active").attr("data-type")),e.find(".growtype-quiz-custom-value.can-collect").each((function(){var t=$(this).attr("data-value"),e=$(this).attr("data-key");e?(Array.isArray(a[s])&&(a[s]={}),a[s][e]=t):(Array.isArray(a[s])||(a[s]=[]),a[s].push(t))})),document.dispatchEvent(new CustomEvent("growtypeQuizCollectQuizData",{detail:{currentQuestion:e,answers:a}})),y("growtype_quiz_answers",JSON.stringify(a),"session"),t(n).answers=a}}function C(t){var e=t.attr("data-img-url");if(e.length>0){var i=t.closest(".growtype-quiz-question").find(".b-img .e-img");i.css("background-image").replace(/^url\(['"](.+)['"]\)/,"$1")!==e&&i.fadeOut(100).promise().done((function(){i.css({"background-image":"url( "+e+" )"}),i.fadeIn(100)}))}}function k(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Q=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,i,n;return e=t,i=[{key:"clickInit",value:function(t){var e=t.closest(".growtype-quiz-wrapper"),i=e.attr("id");if(!window.growtype_quiz_global[i].showNextQuestionWasFired){var n=t.closest(".growtype-quiz-question"),a=n.attr("data-answers-limit"),r=n.find(".growtype-quiz-question-answer.is-active").length,o=n.attr("data-answer-type");if(!(t.attr("data-url").length>0)){if("multiple"!==o||t.hasClass("clear-other-selections")?t.closest(".growtype-quiz-question-answers").find(".growtype-quiz-question-answer").removeClass("is-active"):t.closest(".growtype-quiz-question-answers").find(".growtype-quiz-question-answer.clear-other-selections").removeClass("is-active"),t.closest(".growtype-quiz-question-answers").find(".input-other").hide(),t.hasClass("is-active"))"multiple"===o&&t.removeClass("is-active");else{if(a>0&&parseInt(r)===parseInt(a))return;t.addClass("is-active")}return t.find(".input-other").length>0?(t.find(".input-other").show().find("input,textarea").removeClass("is-invalid").focus(),e.find(".growtype-quiz-nav .growtype-quiz-btn-go-next").show(),void event.stopPropagation()):"single_instant"===o||t.hasClass("clear-other-selections")&&0===t.find(".input-wrapper").length?(x(n),void O(n)):void("multiple"===o&&f(t))}window.location=t.attr("data-url")}}},{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$(".growtype-quiz-question-answers .growtype-quiz-question-answer");e.click((function(){(new t).clickInit($(this)),"true"===$(this).attr("data-option-featured-img-main")&&C($(this))}))}}],i&&k(e.prototype,i),n&&k(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function S(t){var e=t.find(".growtype-quiz-loader-wrapper:visible");if(e.length>0){var n=function(){e.find(".growtype-quiz-loader-bar-inner").css("width",r+"%"),e.find(".growtype-quiz-loader-percentage").html(r+"<span>%</span>"),e.find("svg.radial-progress").each((function(){var t=$(this).find("circle.bar--animated").attr("r"),e=2*Math.PI*t,i=e-r*e/100;$(this).find("circle.bar--animated").css("stroke-dashoffset",i)})),e.find(".countervalue").text(r+"%"),a()},a=function t(){if(r<100){if(99===r){var i=e.attr("data-redirect"),a=e.attr("data-redirect-url");if("true"===i&&(!a||0===a.length))return void setTimeout(t,200)}r++,setTimeout(n,o)}else document.dispatchEvent(new CustomEvent("growtypeQuizLoaderFinished",{detail:{loader:e}}))},r=0,o=parseInt(e.attr("data-duration"));isNaN(o)&&(o=90),i(t),e.find(".growtype-quiz-loader-bar-inner").css("width",""),e.find("circle.bar--animated").removeAttr("style"),setTimeout((function(){document.dispatchEvent(new CustomEvent("growtypeQuizLoaderStarted",{detail:{loader:e}})),n()}),500)}}function A(t){t.attr("id");t.find(".growtype-quiz-input-wrapper input[type=file]").change((function(t){var e=$(this).attr("max-size"),i=$(this).attr("max-size-error-message");void 0!==e&&$(t.target.files).each((function(n,a){a.size>e&&(i.length>0?(i=i.replace(":image_name",a.name).replace(":max_size",e/1e6+"mb"),alert(i)):alert(a.name+" is too big! Max file size allowed - "+e/1e6+"mb"),t.target.value="")}));var n=$(this).attr("data-selected-placeholder-single"),a=$(this).attr("data-selected-placeholder-multiple"),r=t.target.files.length;if($(this).closest(".growtype-quiz-input-wrapper").find(".growtype-quiz-input-label").removeClass("is-active").text($(this).attr("data-placeholder")),r>0&&(n.length>0||a.length>0)){var o=n.replace(":nr",r);r>1&&(o=a.replace(":nr",r)),$(this).closest(".growtype-quiz-input-wrapper").find(".growtype-quiz-input-label").addClass("is-active").text(o)}})),t.find(".growtype-quiz-input-wrapper input, .growtype-quiz-input-wrapper textarea").on("keyup",(function(){f($(this))})),t.find('.growtype-quiz-input-wrapper input[type="checkbox"]').on("click",(function(){f($(this))}))}function O(i){var d=i.closest(".growtype-quiz-wrapper"),w=d.attr("id");if(!window.growtype_quiz_global[w].showNextQuestionWasFired){var g,q="";if(i.find(".growtype-quiz-question-answer.is-active").map((function(t,e){"true"!==$(e).attr("data-additional-question")||$(e).hasClass("skip-additional-question")||(q=$(e).attr("data-additional-question-content"))})),q.length>0)return d.find(".growtype-quiz-modal .growtype-quiz-modal-content-form").html(q),d.find(".growtype-quiz-modal").fadeIn(),(g=$(".growtype-quiz-modal textarea").attr("maxlength"))&&($(".growtype-quiz-modal .e-characters-amount .e-total").text(g),$('.growtype-quiz-modal textarea[name="additional_question"]').on("input",(function(){var t=$('.growtype-quiz-modal textarea[name="additional_question"]').val().length;$(".growtype-quiz-modal .e-characters-amount .e-amount").text(t)}))),void A();window.growtype_quiz_global[w].showNextQuestionWasFired=!0;var y=i.find(".growtype-quiz-question-answer.is-active").attr("data-funnel"),_=0;if(window.growtype_quiz_global[w].current_funnel=y,"multiple"===i.attr("data-answer-type")&&"true"===i.attr("data-has-funnel")){var v=[],z=0;if(i.find(".growtype-quiz-question-answer.is-active").map((function(t,e){$(e).attr("data-funnel")!==window.growtype_quiz_global[w].initial_funnel&&v.push($(e).attr("data-funnel"))})),v.length>0){var h=[];v.map((function(t,e){var n=i.nextAll('.growtype-quiz-question[data-has-funnel="true"][data-funnel-conditional="'+t+'"]');0!==n.length&&(z+=n.length,n.map((function(i,a){var r=t;n.length===i+1&&(v.length===e+1?(r=window.growtype_quiz_global[w].initial_funnel,console.info("Last same funnel conditional question has answer with next funnel - "+r)):r=v[e+1]);var o=$(a).clone().addClass("is-conditionally-cloned");$(a).addClass("is-conditionally-skipped"),$(o).attr("data-funnel",t),$(o).find(".growtype-quiz-question-answer").attr("data-funnel",r),o.find(".growtype-quiz-question-answer").click((function(){(new Q).clickInit($(this))})),h[t]?h[t].push(o):h[t]=[o]})))}));var m=[];Object.entries(h).map((function(t){t[1].map((function(t){m.push(t)}))})),m.length>0&&(y=m[0].attr("data-funnel")),m.reverse(),m.map((function(t){$(t).insertAfter(i)}))}window.growtype_quiz_global[w].additional_questions_amount=z}void 0===y&&(y=window.growtype_quiz_global[w].initial_funnel);var b=i.nextAll('.growtype-quiz-question[data-funnel="'+y+'"]:not([class*="skipped"]):first');if(b.attr("data-disabled-if")&&b.attr("data-disabled-if").length>0)for(var x=i.nextAll('.growtype-quiz-question[data-funnel="'+y+'"]:not([class*="skipped"])'),C=0;C<x.length;C++){var k=x[C],O=$(k).attr("data-disabled-if");if(!(O.length>0)){b=$(k),console.warn('Next question "Disabled If" value is empty, so next question is taken.');break}if(!a(d,O)){b=$(k),console.warn("Question found among answers but ignored answers not found.");break}console.warn("Question key not found among answers")}window.growtype_quiz_global[w].already_visited_questions_keys.push(i.attr("data-key")),window.growtype_quiz_global[w].already_visited_questions_funnels.push(i.attr("data-funnel")),window.quizLastQuestion=i,l(i)&&window.growtype_quiz_global[w].current_question_counter_nr++,window.growtype_quiz_global[w].current_question_nr=b.attr("data-question-nr"),d.find(".growtype-quiz").attr("data-show-correct-answer")&&"after_submit"===d.find(".growtype-quiz").attr("data-correct-answers-trigger")&&(_=1e3,i.find(".growtype-quiz-question-answer").map((function(t,e){"1"!==$(e).attr("data-cor")?$(e).addClass("is-wrong"):$(e).addClass("is-correct")})));var I=$(i).height();i.delay(_).removeClass("is-active").not(".is-always-visible").fadeOut(300,(function(){d.removeClass("is-valid is-half-valid")})).promise().done((function(){if(n(d),!window.growtype_quiz_global[w].is_finished){var a=d.find(".growtype-quiz-nav .growtype-quiz-btn-go-next .e-label").attr("data-label-finish");if(a&&a.length>0&&(void 0===b.next(".growtype-quiz-question")||"success"===b.attr("data-question-type")))d.find(".growtype-quiz-nav .growtype-quiz-btn-go-next .e-label").text(a);else if(parseInt(window.growtype_quiz_global[w].current_question_counter_nr)<=window.growtype_quiz_global[w].quiz_questions_amount-1){var l=d.find(".growtype-quiz-nav .growtype-quiz-btn-go-next .e-label").attr("data-label");if("true"===d.find('.growtype-quiz-nav[data-type="footer"]').attr("data-question-title-nav")){var g=b.nextAll(".growtype-quiz-question:first").attr("data-question-title");b.nextAll('.growtype-quiz-question[data-funnel="'+y+'"]:first').length>0&&(g=b.nextAll('.growtype-quiz-question[data-funnel="'+y+'"]:first').attr("data-question-title")),g&&g.length>0&&(l=g)}d.find(".growtype-quiz-nav .growtype-quiz-btn-go-next .e-label").attr("data-label",l).text(l)}b.length>0&&b.addClass("is-active").fadeIn(300).promise().done((function(){u(d,b),s(d),p(d),void 0!==b.find("input").val()&&b.find("input").val().length>0&&f($(this)),d.find(".growtype-quiz-nav .btn").attr("disabled",!1)})),r(b),S(d),document.dispatchEvent(o({currentQuestion:b,previousQuestion:i,answer_details:{question_number:window.growtype_quiz_global[w].current_question_counter_nr-1,question:$(i).attr("data-key"),answer:window.growtype_quiz_data[w].answers[$(i).attr("data-key")]}})),I>$(window).height()&&$([document.documentElement,document.body]).animate({scrollTop:$(".growtype-quiz").offset().top},100),0===b.length||"success"===b.attr("data-question-type")?(document.dispatchEvent(e(t(w))),document.dispatchEvent(c({currentQuestion:i,nextQuestion:b}))):document.dispatchEvent(new CustomEvent("growtypeQuizShowNextQuestion",{detail:{currentQuestion:i,nextQuestion:b}})),window.growtype_quiz_global[w].showNextQuestionWasFired=!1}}))}}function I(t){var e=t.attr("id"),i=t.find(".growtype-quiz-question.first-question");t.find(".growtype-quiz-btn-go-next").click((function(){var n=$(this).closest(".growtype-quiz").find(".growtype-quiz-question.is-active");(document.dispatchEvent(new CustomEvent("growtypeQuizNextQuestionTrigger",{detail:{currentQuestion:n}})),window.growtype_quiz_global[e].showNextQuestionWasFired)||(0===n.length&&(n=i),("false"===n.attr("data-answer-required")||(document.dispatchEvent(function(t){return new CustomEvent("growtypeQuizValidateQuestion",{detail:t})}({currentQuestion:n})),window.growtype_quiz_global[e].is_valid))&&(t.find(".growtype-quiz-nav .btn").attr("disabled",!0),t.find(".growtype-quiz-question.is-always-visible").length>0&&t.find(".growtype-quiz-question.is-always-visible").each((function(t,e){x($(e))})),x(n),O(n)))}))}function E(t,e){var i=t.closest(".growtype-quiz-wrapper"),n=i.attr("id");u(i),s(i),p(i),i.find(".growtype-quiz-btn-go-next").show().attr("disabled",!1);var a=i.find(".growtype-quiz-nav .growtype-quiz-btn-go-next .e-label").attr("data-label");e.hasClass("first-question")&&(a=i.find(".growtype-quiz-nav .growtype-quiz-btn-go-next .e-label").attr("data-label-start")),e.find(".growtype-quiz-question-answer.is-active").removeClass("skip-additional-question");var l=t.attr("data-question-title");"true"===i.find('.growtype-quiz-nav[data-type="footer"]').attr("data-question-title-nav")&&l&&l.length>0&&(a=l),r(e),e.closest(".growtype-quiz").find(".growtype-quiz-nav .growtype-quiz-btn-go-next .e-label").text(a),e.addClass("is-active").fadeIn(300).promise().done((function(){window.growtype_quiz_global[n].quiz_back_btn_was_clicked=!1})),document.dispatchEvent(o({currentQuestion:e,nextQuestion:t}))}function N(e){var i=e.attr("id");e.find(".growtype-quiz-btn-go-back").click((function(){return event.preventDefault(),!window.growtype_quiz_global[i].quiz_back_btn_was_clicked&&(window.growtype_quiz_global[i].quiz_back_btn_was_clicked=!0,0===window.growtype_quiz_global[i].already_visited_questions_keys.length&&$(this).attr("data-back-url")?window.location.href=$(this).attr("data-back-url"):void function(e){var i=e.attr("id"),n=e.find(".growtype-quiz-question.is-active"),a=window.growtype_quiz_global[i].already_visited_questions_keys.slice(-1)[0],r=window.growtype_quiz_global[i].already_visited_questions_funnels.slice(-1)[0],o=n.prevAll(".growtype-quiz-question[data-key='"+a+"'][data-funnel='"+r+"']:first");"multiple"===o.attr("data-answer-type")&&"true"===o.attr("data-has-funnel")&&(window.growtype_quiz_global[i].additional_questions_amount=0,e.find(".growtype-quiz-question.is-conditionally-cloned").remove(),e.find(".growtype-quiz-question.is-conditionally-skipped").removeClass("is-conditionally-skipped")),0===n.length&&(o=e.find(".growtype-quiz-question:last")),o.find(".growtype-quiz-loader-wrapper").length>0&&(o=o.prev()),window.growtype_quiz_global[i].already_visited_questions_keys.splice(-1),window.growtype_quiz_global[i].already_visited_questions_funnels.splice(-1),Object.entries(t(i).answers).map((function(e,n){"string"==typeof e[0]&&e[0].includes(a)&&delete t(i).answers[e[0]]})),y("growtype_quiz_answers",JSON.stringify(t(i).answers),"session"),window.quizLastQuestion=n,window.growtype_quiz_global[i].current_question_nr=o.attr("data-question-nr"),l(o)&&window.growtype_quiz_global[i].current_question_counter_nr--,0===n.length?E(o,o):n.removeClass("is-active").fadeOut(300,(function(){e.addClass("is-valid"),window.growtype_quiz_global[i].is_finished=!1,E(n,o)}))}(e))}))}function j(t){var e=t.attr("id");function i(t){var i,n,a,r=t.attr("data-type");i="unit_system",n=r,(a=null===(a=JSON.parse(q(quizGlobalStorageKey,"session")))?{}:a)[i]=n,y(quizGlobalStorageKey,JSON.stringify(a),"session"),window.growtype_quiz_global[e].unit_system=r}function n(t){t.closest(".growtype-quiz-measurements-form").find(".unitsystem-selector-item").removeClass("is-active"),t.closest(".growtype-quiz-measurements-form").find('.unitsystem-selector-item[data-type="'+window.growtype_quiz_global[e].unit_system+'"]').addClass("is-active"),t.closest(".growtype-quiz-measurements-form").find(".unitsystem-group").removeClass("is-active"),t.closest(".growtype-quiz-measurements-form").find('.unitsystem-group[data-type="'+window.growtype_quiz_global[e].unit_system+'"]').addClass("is-active")}function a(t){var e=t.attr("data-type");t.closest(".growtype-quiz-question").find(".unitsystem-selector .unitsystem-selector-item").each((function(t,i){$(i).attr("data-type")===e&&n($(i))})),t.closest(".growtype-quiz-question").nextAll().each((function(t,i){$(i).find(".unitsystem-selector").length>0&&($(i).find(".unitsystem-selector").hide(),$(i).find(".unitsystem-selector .unitsystem-selector-item").each((function(t,i){$(i).attr("data-type")===e&&n($(i))})))}))}t.find(".unitsystem-selector").each((function(t,e){t>1&&$(e).hide(),0===t&&(i($(e).find(".unitsystem-selector-item.is-active")),n($(e).find(".unitsystem-selector-item.is-active")),a($(e).find(".unitsystem-selector-item.is-active")))})),t.find(".unitsystem-selector .unitsystem-selector-item").click((function(){i($(this)),n($(this)),a($(this))}))}var T=new Date;document.addEventListener("growtypeQuizSaveQuizData",(function(t){var e=t.detail.id,i=$('.growtype-quiz-wrapper[id="'+e+'"]');if(!i.find(".growtype-quiz").attr("data-save-answers"))return!1;var n=t.detail.answers&&Object.entries(t.detail.answers).length>0?t.detail.answers:null,a=t.detail.extra_details&&Object.entries(t.detail.extra_details).length>0?t.detail.extra_details:null,r=function(t,e){var i,n,a,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=$("#"+t),u=s.attr("data-quiz-post-id"),l=s.attr("data-quiz-slug"),d=null!==(i=null===(n=window.growtype_quiz_global[t])||void 0===n?void 0:n.duration)&&void 0!==i?i:null,w=null!==(a=null===(r=window.growtype_quiz_global[t])||void 0===r?void 0:r.files)&&void 0!==a?a:[],p=w instanceof FileList||Array.isArray(w)?w:[],c=new FormData;c.append("action","growtype_quiz_save_data"),c.append("answers",JSON.stringify(e)),o&&c.append("extra_details",JSON.stringify(o)),c.append("quiz_id",u),c.append("quiz_slug",l),c.append("duration",d);var g=window.growtype_quiz_local&&window.growtype_quiz_local.unique_hash||q("growtype_quiz_unique_hash");c.append("unique_hash",g),window.growtype_quiz_local&&window.growtype_quiz_local.nonce&&c.append("nonce",window.growtype_quiz_local.nonce);var f=window.growtype_quiz_local&&window.growtype_quiz_local.gqtoken||q("growtype_quiz_unique_hash")||null;if(f&&c.append("gqtoken",f),p.length>0)for(var y=0;y<p.length;y++)c.append("file_".concat(y),p[y]);return c}(e,n,a);$.ajax({url:growtype_quiz_local.ajax_url,type:"post",processData:!1,contentType:!1,cache:!1,enctype:"multipart/form-data",data:r,beforeSend:function(){},success:function(t){if(t.success){y("growtype_quiz_unique_hash",t.unique_hash),i.find('input[name="growtype_quiz_unique_hash"]').length>0&&i.find('input[name="growtype_quiz_unique_hash"]').val(t.unique_hash),y("growtype_quiz_answers",JSON.stringify(n));var e=null!==t.redirect_url&&t.redirect_url.length>0?t.redirect_url:t.results_url;setTimeout((function(){if(i.find(".growtype-quiz-loader-wrapper:visible").length>0){if(e&&e.length>0){var t=i.find(".growtype-quiz-loader-wrapper");t.attr("data-redirect-url")&&0!==t.attr("data-redirect-url").length||t.attr("data-redirect-url",e),t.find(".btn-continue").attr("href",e)}}else e&&e.length>0&&window.location.replace(e)}),500)}else false},error:function(t){window.growtype_quiz_global[e].is_finished=!1,t.responseJSON&&void 0!==t.responseJSON.message&&console.error(t.responseJSON.message),"true"!==i.find(".growtype-quiz-question.is-active").attr("data-hide-back-button")&&i.find(".growtype-quiz-wrapper .growtype-quiz-btn-go-back").attr("disabled",!1).fadeIn()}})}));var F=new Event("growtypeQuizResultsEvaluated");function L(){return F}function D(t){t.find(".growtype-quiz .btn-restart-quiz").click((function(e){var i=t.attr("id");e.preventDefault(),window.growtype_quiz_global[i].is_finished=!1,window.growtype_quiz_global[i].was_restarted=!0,t.find(".growtype-quiz").attr("data-show-correct-answer")&&"on_restart"===t.find(".growtype-quiz").attr("data-correct-answers-trigger")&&t.find(".growtype-quiz-question").map((function(t,e){$(e).find(".growtype-quiz-question-answer").map((function(t,e){"1"!==$(e).attr("data-cor")?$(e).addClass("is-wrong"):$(e).addClass("is-correct")}))})),t.find(".growtype-quiz-nav .btn").attr("disabled",!1),function(t){var e=t.attr("id"),i=t.find(".growtype-quiz-question.first-question");i.hasClass("is-always-visible")&&(i=t.find(".growtype-quiz-question:not(.is-always-visible):first")),r(i),setTimeout((function(){var e=t.find(".growtype-quiz-nav .growtype-quiz-btn-go-next .e-label").attr("data-label-start");void 0!==e&&e.length>0&&("true"===t.find('.growtype-quiz-nav[data-type="footer"]').attr("data-question-title-nav")?(e=i.nextAll(".growtype-quiz-question:first").attr("data-question-title"),t.find(".growtype-quiz-nav .growtype-quiz-btn-go-next .e-label").attr("data-label",e).text(e)):t.find(".growtype-quiz-nav .growtype-quiz-btn-go-next .e-label").text(e))}),500),i.hasClass("is-active")||t.find(".growtype-quiz-question").removeClass("is-active").fadeOut().promise().done((function(){var t=$(this).closest(".growtype-quiz-wrapper");window.growtype_quiz_global[e].current_question_nr=1,window.growtype_quiz_global[e].current_question_counter_nr=1,s(t),i.addClass("is-active").fadeIn(),n(t),t.find(".growtype-quiz-btn-go-next").show()}))}(t)}))}document.addEventListener("growtypeQuizShowSuccessQuestion",(function(e){var i=$(e.detail.currentQuestion).closest(".growtype-quiz-wrapper");i.attr("id");!function(e){var i=e.attr("id"),n={answers:t(i).answers,correctlyAnswered:void 0!==t(i).correctly_answered?t(i).correctly_answered:0,totalAnswers:void 0!==t(i).correctly_answered?Object.values(t(i).correctly_answered).length:0,correctAnswers:0};Object.values(n.correctlyAnswered).map((function(t,e){t[0]&&n.correctAnswers++})),n.correctAnswersFormatted=n.correctAnswers,Object.values(n.correctlyAnswered).length>=10&&n.correctAnswers.length<10&&(n.correctAnswersFormatted="0"+n.correctAnswers);var a=n.correctAnswersFormatted+"/"+n.totalAnswers;e.find('.growtype-quiz-question[data-question-type="success"] .e-result').length>0&&e.find('.growtype-quiz-question[data-question-type="success"] .e-result').text(a),L().results=n,document.dispatchEvent(L())}(i);var n=i.find(".growtype-quiz-question");e.detail&&e.detail.currentQuestion&&(n=$(e.detail.currentQuestion));n.removeClass("is-active").hide().promise().done((function(){$("body").attr("data-current-question-type","success"),i.find('.growtype-quiz-question[data-question-type="success"]').fadeIn().addClass("is-active"),D(i)}))})),document.addEventListener("growtypeQuizLoaderFinished",(function(t){var e=t.detail.loader,i=e.attr("data-redirect"),n=e.attr("data-redirect-url"),a=e.closest(".growtype-quiz-wrapper");a.addClass("is-valid"),"true"===i&&null!==n&&n.length>0?window.location.href=n:a.find(".growtype-quiz-question.is-active").next(".growtype-quiz-question").length>0?O(a.find(".growtype-quiz-question.is-active")):a.find(".btn-continue").fadeIn()})),$(document).ready((function(){window.growtype_quiz_global&&($(".growtype-quiz-wrapper").map((function(t,e){growtypeQuizSetParams($(e))})),$(".growtype-quiz-wrapper").map((function(i,n){var a=$(n).attr("id");window.growtype_quiz_global[a].showNextQuestionWasFired=!1,$(n).find(".growtype-quiz").attr("data-save-on-load")&&document.dispatchEvent(e(t(a))),(new Q).init(),A($(n)),j($(n)),function(t){if(0!==t.length){var e=t.attr("id");window.growtype_quiz_global=window.growtype_quiz_global||{},window.growtype_quiz_global[e]=window.growtype_quiz_global[e]||{};var i=t.find(".growtype-quiz").find(".growtype-quiz-question").not(".is-always-visible").first().attr("data-question-nr");if(void 0===i&&(i=1),t.find(".growtype-quiz").attr("data-show-question-nr-in-url")){var n;i=new URLSearchParams(window.location.search).get("question"),i=t.find(".growtype-quiz").attr("data-show-question-nr-in-url")&&"undefined"!==i?parseInt(i):1,i=isNaN(i)?1:i;var a=null!==(n=$(".exclude-questions-amount").length)&&void 0!==n?n:0,s=i;i>1&&(s=i-a),window.growtype_quiz_global[e].current_question_counter_nr=s}var u=t.find('.growtype-quiz-question[data-question-nr="'+i+'"]');i>1&&t.find(".growtype-quiz-question").hide(),window.growtype_quiz_global[e].current_question_nr=i,u.addClass("is-active").show(),"true"===t.find('.growtype-quiz-nav[data-type="footer"]').attr("data-question-title-nav")&&setTimeout((function(){var e=u.nextAll(".growtype-quiz-question:first").attr("data-question-title");e&&t.find(".growtype-quiz-nav .growtype-quiz-btn-go-next .e-label").text(e)}),100),r(u),document.dispatchEvent(o({currentQuestion:u}))}}($(n)),I($(n)),function(t){var e=t.attr("id");t.find(".growtype-quiz-modal .growtype-quiz-modal-inner .e-close").on("click",(function(){$(this).closest(".growtype-quiz-modal").fadeOut(),window.growtype_quiz_global[e].showNextQuestionWasFired=!1,t.find(".growtype-quiz-btn-go-next").attr("disabled",!1),t.find(".growtype-quiz-btn-go-back").attr("disabled",!1)}));var i=!1;t.find(".growtype-quiz-modal .growtype-quiz-modal-actions .btn-continue").on("click",(function(){var n;if(!i){i=!0;var a=$(this).closest(".growtype-quiz-modal-content").find('[name="additional_question"]'),r=t.find(".growtype-quiz-question.is-active"),o=a.val();if(setTimeout((function(){window.growtype_quiz_data[e].answers[r.attr("data-key")+"_additional_question"]=[o]}),100),null!==(n=a[0])&&void 0!==n&&n){var s=a[0].files;if(s&&s.length>0)for(var u=0;u<s.length;u++)window.growtype_quiz_global[e].files.append(r.attr("data-key")+"_additional_question_"+u,s[u])}$(this).closest(".growtype-quiz-modal").fadeOut(),r.find(".growtype-quiz-question-answer.is-active").addClass("skip-additional-question"),window.growtype_quiz_global[e].showNextQuestionWasFired=!1,t.find(".growtype-quiz-btn-go-next").attr("disabled",!1),t.find(".growtype-quiz-btn-go-next").click(),setTimeout((function(){i=!1}),500)}}))}($(n)),N($(n)),u($(n)),p($(n)),s($(n)),function(t){var e=t.attr("id");if("presentation"===t.attr("data-quiz-type"))return!1;setInterval((function(){var t=new Date-T;window.growtype_quiz_global[e].duration=(t/1e3).toFixed(0)}),1e3)}($(n)),function(i){var n=i.attr("id"),a=i.find(".growtype-quiz-timer");if(0===a.length)return!1;window.growtype_quiz_global[n].countdown={};var r=a.attr("data-duration"),o=new Date;o.setSeconds(o.getSeconds()+Number(r));var s=o.getTime();window.growtype_quiz_global[n].countdown_timer=setInterval((function(){var i=(new Date).getTime(),o=s-i,u=(Math.floor(o/864e5),Math.floor(o%864e5/36e5),Math.floor(o%36e5/6e4)),l=u,d=Math.floor(o%6e4/1e3),w=d;o<0?(clearInterval(window.growtype_quiz_global[n].countdown_timer),document.dispatchEvent(e(t(n))),document.dispatchEvent(c())):(window.growtype_quiz_global[n].countdown.duration=Number(r)-Number(60*u+d),u<10&&(l="0"+u),d<10&&(w="0"+d),window.growtype_quiz_global[n].countdown.current_time=l+":"+w,a.find(".e-time").text(window.growtype_quiz_global[n].countdown.current_time))}),1e3)}($(n))})))}))},530:function(){},216:function(){}},i={};function n(t){var a=i[t];if(void 0!==a)return a.exports;var r=i[t]={exports:{}};return e[t](r,r.exports,n),r.exports}n.m=e,t=[],n.O=function(e,i,a,r){if(!i){var o=1/0;for(d=0;d<t.length;d++){i=t[d][0],a=t[d][1],r=t[d][2];for(var s=!0,u=0;u<i.length;u++)(!1&r||o>=r)&&Object.keys(n.O).every((function(t){return n.O[t](i[u])}))?i.splice(u--,1):(s=!1,r<o&&(o=r));if(s){t.splice(d--,1);var l=a();void 0!==l&&(e=l)}}return e}r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[i,a,r]},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={172:0,697:0,412:0};n.O.j=function(e){return 0===t[e]};var e=function(e,i){var a,r,o=i[0],s=i[1],u=i[2],l=0;if(o.some((function(e){return 0!==t[e]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(u)var d=u(n)}for(e&&e(i);l<o.length;l++)r=o[l],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(d)},i=self.webpackChunksage=self.webpackChunksage||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}(),n.O(void 0,[697,412],(function(){return n(709)})),n.O(void 0,[697,412],(function(){return n(530)}));var a=n.O(void 0,[697,412],(function(){return n(216)}));a=n.O(a)}();
//# sourceMappingURL=growtype-quiz-public.js.map