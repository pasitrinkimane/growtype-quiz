!function(){"use strict";var t,e={386:function(){function t(){$(".b-quiz-progressbar").hide(),$(".b-quiz-header").hide(),$(".b-quiz-nav").hide(),$(".b-quiz-timer").length>0&&($(".b-quiz-timer").hide(),clearInterval(window.countDownTimer))}function e(){$(".b-quiz-progressbar").show(),$(".b-quiz-header").show(),$(".b-quiz-nav").show(),$(".b-quiz-timer").length>0&&$(".b-quiz-timer").show()}function n(){var t=window.quizQuestionsAmount<10?"0"+window.quizQuestionsAmount:window.quizQuestionsAmount,e=window.growtype_quiz.current_question_nr<10?"0"+window.growtype_quiz.current_question_nr:window.growtype_quiz.current_question_nr;"steps"===$(".b-quiz-question-nr").attr("data-style")&&(t=window.quizQuestionsAmount,e=window.growtype_quiz.current_question_nr),$(".b-quiz-question-nr .b-quiz-question-nr-current-slide").text(e),$(".b-quiz-question-nr .b-quiz-question-nr-total-slide").text(t),$(".quiz-wrapper").attr("data-current-question",window.growtype_quiz.current_question_nr)}var i=new Event("saveQuizData");function a(){return i}function s(t){var e=a().answers,n=a().correctlyAnswered,i=t.attr("data-key"),s=t.attr("data-question-type");if(e[i]=[],"open"===s?e[i].push(t.find("textarea").val()):t.find(".b-quiz-question-answer.is-active").map((function(t,n){e[i].push($(this).attr("data-value"))})),$('.b-quiz[data-type="scored"]').length>0&&"open"!==s){var u=!0;t.find(".b-quiz-question-answer").map((function(t,e){$(this).hasClass("is-active")&&0===$(this).attr("data-cor").length&&(u=!1)})),n[t.attr("data-key")]=[],n[t.attr("data-key")].push(u)}a().answers=e}function u(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=$(".b-quiz-question.first-question");i.hasClass("is-always-visible")&&(i=$(".b-quiz-question:not(.is-always-visible):first")),t&&i.addClass("is-active"),setTimeout((function(){var t=i.nextAll(".b-quiz-question:first").attr("data-question-title");"true"===$(".b-quiz-nav").attr("data-question-title-nav")&&t.length>0&&$(".b-quiz-nav .btn-go-next .e-label").attr("data-label",t).text(t)}),500),t||i.hasClass("is-active")||$(".b-quiz-question").removeClass("is-active").fadeOut().promise().done((function(){window.growtype_quiz.current_question_nr=1,n(),i.addClass("is-active").fadeIn(),e(),$(".btn-go-next").show()}))}function o(){window.quizQuestionsAmount=$('.b-quiz-question[data-funnel="a"]:not(.b-quiz-question[data-question-type="success"]):not(.is-always-visible)').length,window.growtype_quiz.already_visited_questions_funnels.map((function(t){if("a"!==t){var e=$('.b-quiz-question[data-funnel="'+t+'"]:not(.b-quiz-question[data-question-type="success"]):not(.is-always-visible)').length;window.quizQuestionsAmount=window.quizQuestionsAmount+e}})),$(".b-quiz-question:visible").hasClass("is-visible")||window.quizQuestionsAmount++,$('.b-quiz-question[data-question-type="success"][data-hide-footer="false"]')&&window.quizQuestionsAmount++}i.answers={},i.correctlyAnswered={},document.addEventListener("saveQuizData",(function(t){if(!quizSaveAnswers)return!1;var e=t.answers,n=window.countDownTimerDuration;$.ajax({url:ajax_object.ajaxurl,type:"post",data:{action:"growtype_quiz_save_data",status:"save",answers:e,quiz_id:quizId,duration:n},beforeSend:function(){},success:function(t){t.success&&(localStorage.setItem("quiz_answers",JSON.stringify(e)),null!==t.redirect_url&&t.redirect_url.length>0&&window.location.replace(t.redirect_url))},error:function(t){false},complete:function(){}})}));var r=0;function d(){var t=$(".b-quiz-progressbar");if(0===t.length)return!1;var e=t.width()/window.quizQuestionsAmount;r=window.growtype_quiz.current_question_nr*e,$(".b-quiz-progressbar-inner").width(r)}function l(i){var s=i.find(".b-quiz-question-answer.is-active").attr("data-funnel");window.growtype_quiz.current_funnel=s,void 0===s&&(s="a");var u=i.nextAll('.b-quiz-question[data-funnel="'+s+'"]:first');window.growtype_quiz.already_visited_questions_keys.push(i.attr("data-key")),window.growtype_quiz.already_visited_questions_funnels.push(i.attr("data-funnel")),window.quizLastQuestion=i,window.growtype_quiz.current_question_nr++,e(),i.removeClass("is-active").not(".is-always-visible").fadeOut(300,(function(){})).promise().done((function(){var e=$(".b-quiz-nav .btn-go-next .e-label").attr("data-label-finish");if(window.growtype_quiz.current_question_nr===window.quizQuestionsAmount-1&&e.length>0&&$(this).closest(".b-quiz").find(".b-quiz-nav .btn-go-next .e-label").text(e),window.growtype_quiz.current_question_nr<window.quizQuestionsAmount-1){var i=$(".b-quiz-nav .btn-go-next .e-label").attr("data-label"),r=u.nextAll(".b-quiz-question:first").attr("data-question-title");u.nextAll('.b-quiz-question[data-funnel="'+s+'"]:first').length>0&&(r=u.nextAll('.b-quiz-question[data-funnel="'+s+'"]:first').attr("data-question-title")),"true"===$(".b-quiz-nav").attr("data-question-title-nav")&&r.length>0&&(i=r),$(".b-quiz-nav .btn-go-next .e-label").attr("data-label",i).text(i)}$(".quiz-wrapper").attr("data-current-question-type",u.attr("data-question-type")),u.length>0&&(o(),n(),d(),u.addClass("is-active").fadeIn(300).promise().done((function(){$(".b-quiz-nav .btn").attr("disabled",!1)})),window.scrollTo(0,0)),"true"===u.attr("data-hide-footer")&&t(),0!==u.length&&"success"!==u.attr("data-question-type")||($(".btn-go-next").hide(),document.dispatchEvent(a()),function(){a().answers;var t=a().correctlyAnswered;if(Object.entries(t).length>0&&$('.b-quiz-question[data-question-type="success"] .e-result').length>0){var e=0;Object.values(t).map((function(t,n){t[0]&&e++})),Object.values(t).length>=10&&e.length<10&&(e="0"+e);var n=e+"/"+Object.values(t).length;$('.b-quiz-question[data-question-type="success"] .e-result').text(n)}}())}))}function q(){var t=!0;return $(".b-quiz-question:visible").each((function(e,n){var i=$(n);if("radio"===i.attr("data-question-type")?t=function(t){var e=!0,n=t.find(".b-quiz-question-answer.is-active");if(0===n.length&&(e=!1),e&&"scored"===$(".b-quiz").attr("data-type")&&showCorrectAnswersInitially&&quizInTestMode){n.map((function(t,n){"1"!==$(n).attr("data-cor")&&(e=!1,$(n).addClass("is-wrong"))}));var i=!0;t.find('.b-quiz-question-answer[data-cor="1"]').map((function(t,n){$(n).hasClass("is-active")||(e=!1,i=!1)})),i&&(e=!0,t.find(".b-quiz-question-answer.is-wrong").removeClass("is-active"))}return e||(t.attr("data-hint")&&t.find(".b-quiz-hint").fadeIn(),t.find(".b-quiz-question-answers").addClass("anim-wrong-selection"),setTimeout((function(){t.find(".b-quiz-question-answers").removeClass("anim-wrong-selection")}),500)),e}(i):"open"===i.attr("data-question-type")&&(t=function(t){var e=!0;return 0===t.find("textarea").val().length&&(e=!1),e||(t.find(".b-quiz-question-answers-wrapper").addClass("anim-wrong-selection"),setTimeout((function(){t.find(".b-quiz-question-answers-wrapper").removeClass("anim-wrong-selection")}),500)),e}(i)),!t)return!1})),t}function c(){$(".b-quiz .btn-go-back").click((function(){return event.preventDefault(),!window.quizBackBtnWasClicked&&(window.quizBackBtnWasClicked=!0,0===window.growtype_quiz.already_visited_questions_keys.length?window.location.replace("/"):(t=$(".b-quiz-question.is-active"),e=window.growtype_quiz.already_visited_questions_keys.slice(-1)[0],i=window.growtype_quiz.already_visited_questions_funnels.slice(-1)[0],s=t.prevAll(".b-quiz-question[data-key='"+e+"'][data-funnel='"+i+"']:first"),window.growtype_quiz.already_visited_questions_keys.splice(-1),window.growtype_quiz.already_visited_questions_funnels.splice(-1),delete a().answers[e],window.quizLastQuestion=t,window.growtype_quiz.current_question_nr--,void t.removeClass("is-active").fadeOut(300,(function(){o(),n(),d(),$(".btn-go-next").show(),$(".quiz-wrapper").attr("data-current-question-type",s.attr("data-question-type"));var e=$(".b-quiz-nav .btn-go-next .e-label").attr("data-label"),i=t.attr("data-question-title");"true"===$(".b-quiz-nav").attr("data-question-title-nav")&&i.length>0&&(e=i),window.growtype_quiz.current_question_nr<window.quizQuestionsAmount-1&&$(this).closest(".b-quiz").find(".b-quiz-nav .btn-go-next .e-label").text(e),s.addClass("is-active").fadeIn(300).promise().done((function(){window.quizBackBtnWasClicked=!1})),window.scrollTo(0,0)}))));var t,e,i,s}))}window.quizBackBtnWasClicked=!1;var w=new Event("showSuccessQuestion");function f(){var t=$(".b-quiz-timer");if(0===t.length)return!1;var e=t.attr("data-duration"),n=new Date;n.setSeconds(n.getSeconds()+Number(e));var i=n.getTime();window.countDownTimer=setInterval((function(){var n=(new Date).getTime(),s=i-n,u=(Math.floor(s/864e5),Math.floor(s%864e5/36e5),Math.floor(s%36e5/6e4)),o=Math.floor(s%6e4/1e3);s<0?(clearInterval(window.countDownTimer),document.dispatchEvent(w),document.dispatchEvent(a())):(window.countDownTimerDuration=Number(e)-Number(60*u+o),u<10&&(u="0"+u),o<10&&(o="0"+o),window.countDownTimerCurrentTime=u+":"+o,t.find(".e-time").text(window.countDownTimerCurrentTime))}),1e3)}document.addEventListener("showSuccessQuestion",(function(){t(),$(".b-quiz-question").hide().promise().done((function(){$('.b-quiz-question[data-question-type="success"]').fadeIn()}))})),$=jQuery,$(document).ready((function(){u(!0),$(".b-quiz-question-answers .b-quiz-question-answer").click((function(){$(this).attr("data-url").length>0&&(window.location=$(this).attr("data-url")),"multiple"!==$(this).closest(".b-quiz-question").attr("data-answer-type")&&$(this).closest(".b-quiz-question-answers").find(".b-quiz-question-answer").removeClass("is-active"),$(this).hasClass("is-active")?"multiple"===$(this).closest(".b-quiz-question").attr("data-answer-type")&&$(this).removeClass("is-active"):$(this).addClass("is-active")})),$(".b-quiz .btn-go-next").click((function(){event.preventDefault();var t=$(".b-quiz-question.is-active");if("false"!==t.attr("data-answer-required")&&!q())return!1;$(".b-quiz-nav .btn").attr("disabled",!0),$(".b-quiz-question.is-visible").length>0&&$(".b-quiz-question.is-visible").each((function(t,e){s($(e))})),s(t),l(t)})),c(),$(".b-quiz .btn-restart-quiz").click((function(){event.preventDefault(),"true"===$(this).attr("data-show-correct-answers")&&$(".b-quiz").addClass("show-correct-answers"),u()})),o(),d(),n(),f()}))},530:function(){},16:function(){}},n={};function i(t){var a=n[t];if(void 0!==a)return a.exports;var s=n[t]={exports:{}};return e[t](s,s.exports,i),s.exports}i.m=e,t=[],i.O=function(e,n,a,s){if(!n){var u=1/0;for(l=0;l<t.length;l++){n=t[l][0],a=t[l][1],s=t[l][2];for(var o=!0,r=0;r<n.length;r++)(!1&s||u>=s)&&Object.keys(i.O).every((function(t){return i.O[t](n[r])}))?n.splice(r--,1):(o=!1,s<u&&(u=s));if(o){t.splice(l--,1);var d=a();void 0!==d&&(e=d)}}return e}s=s||0;for(var l=t.length;l>0&&t[l-1][2]>s;l--)t[l]=t[l-1];t[l]=[n,a,s]},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={172:0,817:0,412:0};i.O.j=function(e){return 0===t[e]};var e=function(e,n){var a,s,u=n[0],o=n[1],r=n[2],d=0;if(u.some((function(e){return 0!==t[e]}))){for(a in o)i.o(o,a)&&(i.m[a]=o[a]);if(r)var l=r(i)}for(e&&e(n);d<u.length;d++)s=u[d],i.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return i.O(l)},n=self.webpackChunksage=self.webpackChunksage||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}(),i.O(void 0,[817,412],(function(){return i(386)})),i.O(void 0,[817,412],(function(){return i(530)}));var a=i.O(void 0,[817,412],(function(){return i(16)}));a=i.O(a)}();
//# sourceMappingURL=growtype-quiz-public.js.map